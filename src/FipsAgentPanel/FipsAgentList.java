package FipsAgentPanel;import AgentPanel.Agent;import AgentPanel.AgentList;import AgentPanel.AgentRobot2;import SuperPack.Intelligence;import java.util.Map;/** * Created by Ishiwatari on 2016/08/12. */public class FipsAgentList extends AgentList {    public FipsAgentList() {        super();    }    protected FipsAgentList(Agent a) {        super(a);    }    /**     * robot上にある重複しているエ－ジェントを削除する再帰関数     *     * @param robot 　エージェントの配下にあるロボット     * @return 削除後のエージェントのリスト     */    @Override    public AgentList deleteOverlapAgent(AgentRobot2 robot) {        if (agent != null && next != null && agent.arobot == robot) {            Agent ag = next.getAgent(robot); //同一ロボットにいるエージェントの取得            if (ag == null)                return (this);            agent.logList.addAll(ag.logList);            //ハッシュマップの結合            for (Map.Entry<Integer, Intelligence> agEntry : ((FipsAgent) ag).intelligenceHashMap.entrySet()) {                int key = agEntry.getKey();                Intelligence agValue = agEntry.getValue();                Intelligence agentValue = ((FipsAgent) agent).intelligenceHashMap.get(key);                if (agentValue == null) {                    ((FipsAgent) agent).intelligenceHashMap.put(key, agentValue);                } else {                    if (agValue.getFitnessValue() < agentValue.getFitnessValue()) {                        ((FipsAgent) agent).intelligenceHashMap.put(key, agValue);                    }                }            }            next = next.delAgent(ag);            return (this);        }        if (next == null)            return this;        next = next.deleteOverlapAgent(robot);        return (this);    }}